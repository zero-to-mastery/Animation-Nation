/* === Base Reset === */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #000;
  overflow: hidden;
}

/* === Scene === */
.scene {
  position: relative;
  width: 100%;
  height: 100vh;
  background: linear-gradient(to bottom, #165b70 0%, #f5ff6f 100%);
  overflow: hidden;
}

/* === Bunny Head === */
.bunny {
  position: relative;
  top: 28%;
  left: 50%;
  transform: translateX(-50%);
  width: 270px;
  height: 320px;
  border-radius: 50% / 45%;
  background: #f5f5f5;
  box-shadow: 0 0 80px rgba(255, 255, 255, 0.3);
  animation: bunnyTilt 24s ease-in-out infinite;
  z-index: 2;
}

/* === Bunny Ears === */
.ear {
  position: absolute;
  width: 90px;
  height: 180px;
  border-radius: 60px;
  background: #f5f5f5;
  top: -90px;
  z-index: 2;
}
.left-ear { left: -20px; transform: rotate(-20deg); }
.right-ear { right: -20px; transform: rotate(20deg); }

/* === Inner Ear === */
.inner-ear {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 50px;
  height: 130px;
  border-radius: 50%;
  background: radial-gradient(circle at center, #ffc0cb 0%, #f8a5b5 80%);
  z-index: 1;
}

/* === Eyebrows === */
.eyebrow {
  position: absolute;
  width: 40px;
  height: 8px;
  background: #333;
  border-radius: 4px;
  top: 80px;
  z-index: 4;
  opacity: 0;
  animation: angryEyebrows 24s ease-in-out infinite;
}
.left-eyebrow { left: 65px; }
.right-eyebrow { right: 65px; }

/* === Eyes === */
.eye {
  position: absolute;
  width: 40px;
  height: 60px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #222 60%, #000 100%);
  top: 100px;
  z-index: 3;
  box-shadow: 0 0 6px rgba(0,0,0,0.4);
  animation: eyeCycle 24s ease-in-out infinite;
}
.left-eye { left: 70px; }
.right-eye {
  right: 70px;
  animation: wink 24s ease-in-out infinite;
  transform-origin: center;
}

/* === Sparkles === */
.sparkle {
  position: absolute;
  border-radius: 50%;
  background: #fff;
  opacity: 0.9;
}
.s1 { width: 15px; height: 19px; top: 10px; left: 22px; }
.s2 { width: 7px; height: 10px; top: 24px; left: 14px; }
.s3 { width: 6px; height: 8px; top: 30px; left: 25px; }

/* === Wink Starburst === */
.wink-starburst {
  position: absolute;
  top: 110px;
  right: 60px;
  width: 0;
  height: 0;
  z-index: 4;
  pointer-events: none;
  opacity: 0;
  animation: starburstPulse 24s ease-in-out infinite;
}
.wink-starburst::before {
  content: '';
  position: absolute;
  left: -10px;
  top: -10px;
  width: 20px;
  height: 20px;
  background: radial-gradient(circle, #ffd700 0%, #ffec8b 60%, transparent 100%);
  clip-path: polygon(
    50% 0%, 61% 35%, 98% 35%, 68% 57%,
    79% 91%, 50% 70%, 21% 91%, 32% 57%,
    2% 35%, 39% 35%
  );
  transform: scale(0.5);
  opacity: 0;
  animation: starburstPulse 24s ease-in-out infinite;
}

/* === Cheeks === */
.cheek {
  position: absolute;
  width: 64px;
  height: 28px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,153,180,0.9), transparent 70%);
  bottom: 88px;
  z-index: 3;
  animation: cheekPulse 24s ease-in-out infinite;
}
.left-cheek { left: 48px; }
.right-cheek { right: 48px; }

/* === Nose === */
.nose {
  position: absolute;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 12px;
  background: radial-gradient(circle at center, #ff7aa2 0%, #ff4f88 100%);
  border-radius: 50% 50% 40% 40%;
  z-index: 3;
}

/* === Mouth === */
.mouth {
  position: absolute;
  bottom: 72px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 24px;
  z-index: 3;
}
.mouth::before,
.mouth::after {
  content: "";
  position: absolute;
  width: 28px;
  height: 15px;
  border: 4.5px solid #505050;
  border-top: none;
  border-radius: 0 0 50% 50%;
  background: transparent;
  animation: mouthEmotion 24s ease-in-out infinite;
  opacity: 1;
}
.mouth::before { left: -32px; }
.mouth::after {
  left: -1px; 
  animation: mouthEmotion 24s ease-in-out infinite;
  opacity: 1 !important;
}

/* === Tongue === */
.tongue {
  position: absolute;
  bottom: 67.5px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 14px;
  border-radius: 0 0 50% 50%;
  background: radial-gradient(circle at center, #ff7aa2 0%, #ff4f88 100%);
  z-index: 2;
  animation: tongueRetract 24s ease-in-out infinite;
}

/* === Tear === */
.tear {
  position: absolute;
  width: 8px;
  height: 12px;
  border-radius: 50%;
  background: radial-gradient(circle at center, #6ec6ff 0%, #4dd0e1 100%);
  left: 72px;
  top: 160px;
  z-index: 4;
  animation: tearDrop 24s ease-in-out infinite;
}
.tear-secondary {
  position: absolute;
  width: 5px;
  height: 8px;
  border-radius: 50%;
  background: radial-gradient(circle at center, #6ec6ff 0%, #4dd0e1 100%);
  left: 78px;
  top: 172px;
  z-index: 3;
  animation: tearDropSecondary 24s ease-in-out infinite;
}

/* === Animations === */
@keyframes bunnyTilt {
  0%, 79% { rotate: 0deg; }
  80% { rotate: -3deg; }
  85% { rotate: 3deg; }
  90% { rotate: 0deg; }
  100% { rotate: 0deg; }
}

@keyframes wink {
  0%, 79% { transform: scaleY(1) scaleX(1); }
  80%, 90% { transform: scaleY(0.04) scaleX(1.2); }
  91%, 100% { transform: scaleY(1) scaleX(1); }
}

@keyframes starburstPulse {
  0%, 79%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
  80% { opacity: 1; transform: scale(1.6) rotate(15deg); }
  90% { opacity: 0.6; transform: scale(1.2) rotate(5deg); }
  100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
}

@keyframes cheekPulse {
  0%, 59%, 100% { opacity: 0.9; transform: scale(1); }
  60%           { opacity: 1; transform: scale(1.6); }
  70%           { opacity: 1; transform: scale(1.6); }
  80%           { opacity: 0.9; transform: scale(1); }
}

@keyframes mouthEmotion {
  /* Smile */
  0%, 19%, 39%, 59%, 79%, 100% {
    border-radius: 0 0 50% 50%;
    border: 4.5px solid #505050;
    border-top: none;
    background: transparent;
    height: 15px;
    top: 0;
    transform: rotate(0deg);
    opacity: 1;
  }

  /* Surprise */
  20%, 38% {
    border-radius: 50%;
    border: 4.5px solid #505050;
    background: transparent;
    height: 28px;
    top: 0;
    transform: rotate(0deg);
    opacity: 0; /* ::before hidden */
  }

  /* Flat Smile*/
  40%, 58% {
    border: none;
    background: #505050;
    height: 4px;
    top: 10px;
    border-radius: 0;
    transform: rotate(0deg);
    opacity: 0; /* ::before hidden */
  }

  /* Sad/Flat Smile*/
  60%, 78% {
    border: none;
    background: #505050;
    height: 4px;
    top: 10px;
    border-radius: 0;
    transform: rotate(0deg);
    opacity: 0; /* ::before hidden */
  }

  /* Smile */
  80%, 99% {
    border-radius: 0 0 50% 50%;
    border: 4.5px solid #505050;
    border-top: none;
    background: transparent;
    height: 15px;
    top: 0;
    transform: rotate(0deg);
    opacity: 1;
  }
}

@keyframes tongueRetract {
  0%, 2% {
    height: 0;
    bottom: 81.5px;
    opacity: 0;
  }
  3%, 6% {
    height: 14px;
    bottom: 67.5px;
    opacity: 1;
  }
  7%, 19% {
    height: 0;
    bottom: 81.5px;
    opacity: 0;
  }
  20%, 100% {
    height: 0;
    bottom: 81.5px;
    opacity: 0;
  }
}

@keyframes tearDrop {
  0%, 59% { opacity: 0; }
  60%, 78% { opacity: 1; transform: translateY(0); }
  79%, 100% { opacity: 0; transform: translateY(20px); }
}

@keyframes tearDropSecondary {
  0%, 59% { opacity: 0; }
  60%, 78% { opacity: 0.8; transform: translateY(0); }
  79%, 100% { opacity: 0; transform: translateY(12px); }
}

@keyframes eyeCycle {
  0%, 24%, 50%, 100% { transform: scale(1); }
  25%, 49% { transform: scaleX(1.4) scaleY(1.1); }
}

@keyframes angryEyebrows {
  0%, 39%, 59%, 100% { opacity: 0; transform: rotate(0); }
  40%, 58% {
    opacity: 1;
    transform: rotate(-20deg);
  }
}

/* === Accessibility === */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}